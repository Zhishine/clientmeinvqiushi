package com.news.qiushi;

import net.loonggg.fragment.RightFragment;
import net.loonggg.fragment.SampleListFragment;
import net.loonggg.view.SlidingMenu;

import com.umeng.socialize.controller.RequestType;
import com.umeng.socialize.controller.UMServiceFactory;
import com.umeng.socialize.controller.UMSocialService;
import com.umeng.socialize.view.ActionBarView;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Color;
import android.os.Bundle;
import android.support.v4.app.FragmentActivity;
import android.support.v4.app.FragmentTransaction;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.ViewGroup;
import android.webkit.WebView;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;
import android.widget.RelativeLayout.LayoutParams;

public class WebViewActivity extends FragmentActivity implements OnClickListener {
    int m_id=0;
    private SlidingMenu mSlidingMenu;// 侧边栏的view
	//private LeftFragment leftFragment; // 左侧边栏的碎片化view
	private RightFragment rightFragment; // 右侧边栏的碎片化view
	private SampleListFragment centerFragment;// 中间内容碎片化的view
	private FragmentTransaction ft; // 碎片化管理的事务
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		// TODO Auto-generated method stub
		super.onCreate(savedInstanceState);
		
		
		setContentView(R.layout.webview_frame);
		mSlidingMenu = (SlidingMenu) findViewById(R.id.slidingMenu);
		/*mSlidingMenu.setLeftView(getLayoutInflater().inflate(
				R.layout.left_frame, null));*/
		mSlidingMenu.setRightView(getLayoutInflater().inflate(
				R.layout.right_frame, null));
		mSlidingMenu.setCenterView(getLayoutInflater().inflate(
				R.layout.center_frame, null));

		ft = this.getSupportFragmentManager().beginTransaction();
		//leftFragment = new LeftFragment();
		rightFragment = new RightFragment();
		//ft.replace(R.id.left_frame, leftFragment);
		ft.replace(R.id.right_frame, rightFragment);

		centerFragment = new SampleListFragment();
		ft.replace(R.id.center_frame, centerFragment);
		ft.commit();
		
		
		
		
		
		
		
		com.umeng.socom.Log.LOG = true;
//		setContentView(R.layout.webview);
//		WebView web=(WebView)findViewById(R.id.webview);
//		 Intent intent = getIntent();
//         String url  = intent.getStringExtra("url");
//         m_id=intent.getIntExtra("id", 0);
//		web.loadUrl(url);
//		ImageView back=(ImageView) findViewById(R.id.back);
//		back.setOnClickListener(this);
//		ImageView share=(ImageView) findViewById(R.id.share);
//		share.setOnClickListener(this); 
	}

	@Override
	public void onClick(View view) {
		// TODO Auto-generated method stub
		if(view.getId()==R.id.back){
			this.finish();
		}
		else if(view.getId()==R.id.share){
		
			         /**
			         * 参数说明
			         * descriptor UMSocialService的标识，你可能在一个Acitvity中使用多个UMSocialService用于区分各个子版块,
			         *           此时建议使用模块名称;如果只使用一个，建议使用相关Acitvity的class name作为参数。
			         * type     申明UMSocialService的权限.社会化组件统一为：RequestType.SOCIAL
			         */
			         UMSocialService controller = UMServiceFactory.getUMSocialService("meinvqiushi.news."+m_id, RequestType.SOCIAL);
			        /**
			        * 参数说明
			        * arg0  上下文，传入当前Activity的实例即可
			        * arg1  评论时是否需要登录，取值false将以游客的身份进行评论
			        */
			
			        controller.openComment(this, false);
			
		}
	}

}
